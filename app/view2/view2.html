<div ng-controller="View2Ctrl">
    <div class="col-sm-12">
        <p>Поиск по заданным критериям</p>
        <!--label><input type="radio" name="event_type" value="con"/>Концерт</label>
        <label><input type="radio" name="event_type" value="foot"/>Футбол</label>
        <br/>
        <input type="text" id="city"-->
        <div class="control-group">
            <label class="control-label" for="datepickerTo">Type of event</label>
            <div class="controls">
                <select class="form-control">
                    <option>Concert</option>
                    <option>Sports</option>
                    <option>Theatre</option>
                    <option>Cinema</option>
                </select>
            </div>
        </div>
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="cityName">City</label>
                <div class="controls">
                    <input type="text" id="cityName" placeholder="Enter city">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="eventName">Band/Event/Singer/Artist</label>
                <div class="controls">
                    <input type="text" id="eventName" placeholder="Enter event">
                </div>
            </div>


            <div class="control-group">
                <label class="control-label" for="datepickerFrom">Start date</label>
                <div class="controls">
                    <div class="date" id="datepickerFrom" data-date="dateValue: dateFrom" data-date-format="dd-mm-yyyy">
                        <input type="text" date-time ng-model="datepickerFrom" min-view="date" view="date">
                        <!--<input class="input-daterange" type="text" data-bind="value: fromDate" />-->
                        <span class="add-on"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="datepickerTo">Finish date</label>
                <div class="controls">
                    <div class="date" id="datepickerTo" data-date="dateValue: dateTo" data-date-format="dd-mm-yyyy">
                        <input type="text" date-time ng-model="datepickerTo" min-view="date" view="date">
                        <!--<input class="input-daterange" type="text" data-bind="value: fromDate" />-->
                        <span class="add-on"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </div>
            </div>

        </form>
        <br/>
        <input type="button" ng-click="getEvens()" value="Поиск"/>
        <table class="table">
        <tr ng-repeat="event in events">
            <td>
                {{event.title}}
            </td>
            <td>
                {{event.type}}
            </td>
            <td>
                {{event.country}}
            </td>
            <td>
                {{event.city}}
            </td>

            <td>
                {{event.url}}
            </td>
            <td>
                {{event.date}}
            </td>
            <td>

                <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal">
                    Поиск билетов
                </button>
                <!--<input type="button" ng-click="searchTicket(event.city, event.country, event.date)">-->
            </td>
        </tr>
        </table>
        <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal" ng-click="setBaseData(event.city, event.country, event.date)">
            Test button
        </button>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">Форма для поиска билетов</div>
                <div class="modal-body">
                    <label>Количество взрослых</label><input type="text" id="adults" ng-model="adults"/><br/>
                    <label>Количество детей</label><input type="text" id="children" ng-model="children"/><br/>
                    <label>Максимальный термин прибывания</label><input type="text" id="maxstay" value="5" ng-model="maxstay"/><br/>
                    <label>Минимальный термин прибывания</label><input type="text" id="minstay" value="1" ng-model="minstay"/><br/>
                    <label>Искать отель</label><input type="checkbox" id="hotelneed" ng-model="hotelneed">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="searchTicket()">Search</button>
                </div>
            </div>
        </div>
    </div>
</div>